<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1"/>
  <link rel="stylesheet" type="text/css" href="default.css" media="screen"/>
  <title>enunciate</title>
</head>

<body>

<div class="container">

  <div class="header">

    <div class="title">
      <h1>enunciate</h1>
      <p>assert your web api.</p>
    </div>

  </div>

  <div class="navigation">
    <a href="index.html">Introduction</a>
    <a href="getting_started.html">Getting Started</a>
    <a href="user_guide.html">User Guide</a>
    <a href="architecture.html">Architecture</a>
    <a href="support.html">Support</a>

    <div class="clearer"><span></span></div>
  </div>

  <div class="main">

    <div class="content">

      <h1>Introduction</h1>

      <p>One of the most irritating things about web service development demos is that they attempt to "WOW!" you with the simplicity and interoperability
      of their development tool by exposing one of three things: a "Hello, World!" app, an echo example, or a stock quote service.  The data structures are
      no more complex than flat strings, the method signatures are single-arg and single return value with no faults, and they leave out the huge mess
      of deployment descriptors, dependencies, configuration, packaging, and deployment that makes up a significant part of web service development.</p>

      <p>This getting started guide will attempt to walk through a real-world (okay, mock-real-world) example of web service development, without trying
      to hide the <a href="http://en.wikipedia.org/wiki/The_Wizard_of_Oz_(1939_film)">man behind the curtain</a>.  Of course, some attempt to be concise
      needs to be made, but at least you'll get the idea of the full development effort.  And you'll see more than just "Hello, World".</p>

      <p>We'll be writing a social networking app (since that's where the <i>real</i> money is).  For this tutorial, the name of our
      social networking app is <u>IfYouWannaBeCool.com</u>.  (Maybe next time, we can write an app that creates
      a <i>network</i> of <i>social networking apps</i>, but we'll leave that for another day....)</p>

      <h1>Step 1: Write The Code</h1>

      <p>We'll start by defining the domain of our app.  We'll define a  <a href="wannabecool/java_step1/com/ifyouwannabecool/domain/persona/Persona.java">persona</a>
      with an id, an alias, an email address, a name, and a picture.  The <a href="wannabecool/java_step1/com/ifyouwannabecool/domain/persona/Name.java">name</a>
      is a complex structure, made up of a given name and a surname.  We'll also define a <a href="wannabecool/java_step1/com/ifyouwannabecool/domain/link/Link.java">link</a>
      between two personas and a <a href="wannabecool/java_step1/com/ifyouwannabecool/domain/link/SocialGroup.java">social group</a>
      consisting of an id, a group leader, the group members, and whether the group is exlusive.</p>

      <p>Next, we'll define the services available for our domain data.  The <a href="wannabecool/java_step1/com/ifyouwannabecool/api/PersonaService.java">PersonaService</a>
      will define the operations available on a persona.  This includes operations for reading a persona, reading multiple personas, storing a persona, and
      deleting a persona.  The <a href="wannabecool/java_step1/com/ifyouwannabecool/api/LinkageService.java">LinkageService</a>
      will carry the operations that deal with linking and grouping personas.  These operations include creating a link between two personas, creating a social group,
      adding someone to a social group, and reading the social groups of a given persona.  Note that our two service interfaces are annotated with the
      @javax.jws.WebService annotation to define them as web serivces, and the two exceptions are annotated with @javax.xml.ws.WebFault to mark them as
      web faults.</p>

      <p>We also define the possible exceptions that can get thrown, including a <a href="wannabecool/java_step1/com/ifyouwannabecool/api/PermissionDeniedException.java">PermissionDeniedException</a>
      when trying to create a link between two people, and an <a href="wannabecool/java_step1/com/ifyouwannabecool/api/ExclusiveGroupException.java">ExclusiveGroupException</a>
      when trying to add a persona to an exclusive group.</p>

      <p>After having defined our service interfaces, we create our implementation classes, <a href="wannabecool/java_step1/com/ifyouwannabecool/impl/PersonaServiceImpl.java">PersonaServiceImpl</a>
      and <a href="wannabecool/java_step1/com/ifyouwannabecool/impl/LinkageServiceImpl.java">LinkageServiceImpl</a>.
      Notice that the implementation classes reference their web service interfaces with the @javax.jws.WebService annotation.</p>

      <p>So, we've got our domain defined along with some services that operate on the domain.  The source code structure looks like this:</p>

      <code class="console">
src
|
|----com
     |
     |----ifyouwannabecool
          |
          |----api
          |    |
          |    |----<a href="wannabecool/java_step1/com/ifyouwannabecool/api/ExclusiveGroupException.java">ExclusiveGroupException.java</a>
          |    |----<a href="wannabecool/java_step1/com/ifyouwannabecool/api/LinkageService.java">LinkageService.java</a>
          |    |----<a href="wannabecool/java_step1/com/ifyouwannabecool/api/PermissionDeniedException.java">PermissionDeniedException.java</a>
          |    |----<a href="wannabecool/java_step1/com/ifyouwannabecool/domain/persona/Persona.java">PersonaService.java</a>
          |
          |----domain
          |    |
          |    |----link
          |    |    |
          |    |    |----<a href="wannabecool/java_step1/com/ifyouwannabecool/domain/link/Link.java">Link.java</a>
          |    |    |----<a href="wannabecool/java_step1/com/ifyouwannabecool/domain/link/SocialGroup.java">SocialGroup.java</a>
          |    |
          |    |----persona
          |         |
          |         |----<a href="wannabecool/java_step1/com/ifyouwannabecool/domain/persona/Name.java">Name.java</a>
          |         |----<a href="wannabecool/java_step1/com/ifyouwannabecool/domain/persona/Persona.java">Persona.java</a>
          |
          |----impl
               |
               |----<a href="wannabecool/java_step1/com/ifyouwannabecool/impl/LinkageServiceImpl.java">LinkageServiceImpl.java</a>
               |----<a href="wannabecool/java_step1/com/ifyouwannabecool/impl/PersonaServiceImpl.java">PersonaServiceImpl.java</a>
      </code>

      <h1>Step 2: Enunciate the API</h1>

      <p>To invoke enunciate in our example, we're going to use the command-line scripts (as opposed to the Ant task or the Java command).  We make sure we
        have our <a href="executables.html">environment set up</a>, and invoke Enunciate on the source code (multi-line, single command, use the "-v" option
        to see more output of what Enunciate is doing):</p>

      <code class="console">
user@localhost&gt;enunciate -Exfire.war ifyouwannabecool.war\
 src/com/ifyouwannabecool/api/ExclusiveGroupException.java\
 src/com/ifyouwannabecool/api/PermissionDeniedException.java\
 src/com/ifyouwannabecool/api/LinkageService.java\
 src/com/ifyouwannabecool/api/PersonaService.java\
 src/com/ifyouwannabecool/impl/PersonaServiceImpl.java\
 src/com/ifyouwannabecool/impl/LinkageServiceImpl.java\
 src/com/ifyouwannabecool/domain/persona/Name.java\
 src/com/ifyouwannabecool/domain/persona/Persona.java\
 src/com/ifyouwannabecool/domain/link/Link.java\
 src/com/ifyouwannabecool/domain/link/SocialGroup.java
      </code>

      <!--something like this is used from the svn sandbox:-->
      <!--target/enunciate-dist/bin/enunciate -v -Exfire.war target/wannabecool.war src/samples/wannabecool/step1/com/ifyouwannabecool/api/ExclusiveGroupException.java src/samples/wannabecool/step1/com/ifyouwannabecool/api/PermissionDeniedException.java src/samples/wannabecool/step1/com/ifyouwannabecool/api/LinkageService.java src/samples/wannabecool/step1/com/ifyouwannabecool/api/PersonaService.java src/samples/wannabecool/step1/com/ifyouwannabecool/impl/PersonaServiceImpl.java src/samples/wannabecool/step1/com/ifyouwannabecool/impl/LinkageServiceImpl.java src/samples/wannabecool/step1/com/ifyouwannabecool/domain/persona/Name.java src/samples/wannabecool/step1/com/ifyouwannabecool/domain/persona/Persona.java src/samples/wannabecool/step1/com/ifyouwannabecool/domain/link/Link.java src/samples/wannabecool/step1/com/ifyouwannabecool/domain/link/SocialGroup.java-->

      <p>You have successfully enunciated your web API.</p>

      <h1>Step 3: Take a Look</h1>

      <p>You'll notice that we exported the war artifact that was created by Enunciate to the file "ifyouwannabecool.war" (with the option
        "-Exfire.war ifyouwannabecool.war").  Drop that into your favorite J2EE container and hit the app in a browser to see
        what you've got!</p>
      
      <p>(For the majority of you who aren't actually performing the steps, you can see the static elements by <a href="wannabecool/step1/index.html">clicking
        here</a>.)</p>

      <p>The first thing you'll notice is a nice-looking web page with a generic title divided into two sections.  The first section describes the SOAP API,
      and it includes the two services we just wrote.  The second section is the data section describing our domain.  You'll notice the WSDL that was
      generated as well as the schema that describes our domain.  (Note that the WSDL is consolidated, containing definitions of both endpoints because
      they service the same namespace.)</p>

      <p>As you continue to poke around, you'll notice that the documentation is quite sparse (although some information can be gleaned
        from the names of the methods and arguments).</p>  

      <p>The "downloads" page links to client-side binaries and source code that will access your SOAP API.  These client-side libraries were generated by
        Enunciate and packaged up (along with everything else) in the war.  The client-side code is clean, intuitive, and powerful, handling all
        the complexities of the API, including the faults (populating even the fields of the faults), the complex data structures, one-way operations and
        even leveraging <a href="http://www.w3.org/TR/2004/WD-soap12-mtom-20040608/">MTOM</a> to handle the binary data.</p>

      <p>Oh, and of course the endpoints are deployed as described in the WSDL.</p>

      <h1>Step 4 (Optional): Iterate</h1>

      <p>Even with no extra options or decorations, Enunciate does a pretty good job publishing your API.  But there's so much more you can do with only
      a minimal amount of effort!  Let's give our classes some extra love, then we'll talk about what we did:</p>

      <code class="console">
src
|
|----<a href="wannabecool/java_step4/enunciate.xml">enunciate.xml</a>
|----<a href="wannabecool/java_step4/LICENSE.txt">LICENSE.txt</a>
|----com
     |
     |----ifyouwannabecool
          |
          |----api
          |    |
          |    |----<a href="wannabecool/java_step4/com/ifyouwannabecool/api/ExclusiveGroupException.java">ExclusiveGroupException.java</a>
          |    |----<a href="wannabecool/java_step4/com/ifyouwannabecool/api/LinkageService.java">LinkageService.java</a>
          |    |----<a href="wannabecool/java_step4/com/ifyouwannabecool/api/package-info.java">package-info.java</a>
          |    |----<a href="wannabecool/java_step4/com/ifyouwannabecool/api/PermissionDeniedException.java">PermissionDeniedException.java</a>
          |    |----<a href="wannabecool/java_step4/com/ifyouwannabecool/domain/persona/Persona.java">PersonaService.java</a>
          |
          |----domain
          |    |
          |    |----link
          |    |    |
          |    |    |----<a href="wannabecool/java_step4/com/ifyouwannabecool/domain/link/Link.java">Link.java</a>
          |    |    |----<a href="wannabecool/java_step4/com/ifyouwannabecool/domain/link/SocialGroup.java">SocialGroup.java</a>
          |    |
          |    |----persona
          |         |
          |         |----<a href="wannabecool/java_step4/com/ifyouwannabecool/domain/persona/Name.java">Name.java</a>
          |         |----<a href="wannabecool/java_step4/com/ifyouwannabecool/domain/persona/Persona.java">Persona.java</a>
          |
          |----impl
               |
               |----<a href="wannabecool/java_step4/com/ifyouwannabecool/impl/LinkageServiceImpl.java">LinkageServiceImpl.java</a>
               |----<a href="wannabecool/java_step4/com/ifyouwannabecool/impl/PersonaServiceImpl.java">PersonaServiceImpl.java</a>
      </code>

      <ul>
        <li>
          <h3>Add a REST API</h3>
          <p>By adding a few annotations, and making sure our methods conform to <a href="modules/module_rest.html#constraints">certain constraints</a>, our services are published as REST endpoints.
            The "readPersona" method on the <a href="wannabecool/java_step4/com/ifyouwannabecool/domain/persona/Persona.java">PersonaService</a>,
            for example, fits nicely into a RESTful HTTP GET.  We annotate the service and its implementation with the @RESTEndpoint annotation,
            we assign the "read" verb (@Verb annotation) and the "perona" noun (@Noun annotation) to the readPersona method,
            and declare the method's only parameter to be a proper noun with the @ProperNoun annotation.  Finally, we make sure the
            <a href="wannabecool/java_step4/com/ifyouwannabecool/domain/persona/Persona.java">Persona</a>
            data type is declared as a root element with the @XmlRootElement annotation, and when enunciated and deployed, the method can be
            invoked as a REST endpoint.</p>
          <p>The REST endpoints are mounted under the "rest" subcontext, invoked by reference to their nouns.  For example, assuming the war artifact is
            mounted at the "api" context, the readPersona REST method described above can be invoked on persona id "12345" with an HTTP GET at
            http://www.ifyouwannabecool.com/api/rest/persona/12345.</p>
          <p>For more information about the REST endpoint publication mechanism, see the <a href="modules/module_rest.html">REST module</a> in the <a href="user_guide.html">user
            guide</a></p>
        </li>
        <li>
          <h3>Add a splash package</h3>
          <p>You'll notice we added a <a href="wannabecool/java_step4/com/ifyouwannabecool/api/package-info.java">package-info
            file</a> to the "com.ifyouwannabecool.api" package.  This is where we added the introductory (i.e. "splash") documentation for our API.
            We want this documentation to show up on our index page for our documentation, so we specify this package as the splash packge in our
            <a href="wannabecool/java_step4/enunciate.xml">configuration
              file</a>. For more information, check out the <a href="user_guide.html">user guide</a>.</p>
        </li>
        <li>
          <h3>Documentation</h3>
          <p>We've added javadocs to everything, including the endpoints, their methods and parameters, and the domain data.  This documentation
          will show up in our generated documentation.  You're free to use HTML tags as you want; they'll be applied in the resulting HTML.  Javadoc
          block tags are recognized, but currently there is no support for javadoc inline tags (they'll show up unparsed in the documentation).</p>
        </li>
        <li>
          <h3>Specify a title and copyright</h3>
          <p>We can specify a title and copyright to the generated documentation in the
            <a href="wannabecool/java_step4/enunciate.xml">configuration
              file</a>.</p>
        </li>
        <li>
          <h3>Add another file to download</h3>
          <p>We want to be able to add a downloadable file to the documentation.  In this case, we add the license file that governs the use of the API.  This
          extra download is specified in the <a href="wannabecool/java_step4/enunciate.xml">configuration
          file</a>.</p>
        </li>
        <li>
          <h3>Specify the deployment configuration</h3>
          <p>We specify our hostname ("www.ifyouwannabecool.com") and the context at which the app will be deployed ("api") in the <a href="wannabecool/java_step4/enunciate.xml">configuration
            file</a>.  There are two advantages to this.  (1) The generated WSDL will have an absolute reference to our SOAP endpoints, making the formal XML
            contract complete.  (2) Consumers of our client code won't have to specify the URL of our endpoints if they don't want to.</p>
        </li>
        <li>
          <h3>Specify your namespace prefixes</h3>
          <p>Again, done in the <a href="wannabecool/java_step4/enunciate.xml">configuration
          file</a>.  Why would we want to do this?  Just because we suffer from OCD and don't like the default "ns0", "ns1", etc. prefixes that are
            automatically assigned.  It also gives a nice name to our wsdl and schema.</p>
        </li>
        <li>
          <h3>Change the package structure of the client-side classes</h3>
          <p>Done (where else?) in the <a href="wannabecool/java_step4/enunciate.xml">configuration
          file</a>.  This will distinguish the generated client classes from the original server-side classes.  (Makes it easier to test, clearer that you're
          dealing with client-side classes, etc.)</p>
        </li>
      </ul>

      <p>And there are still a ton of other configuration options available to you as the API developer (which we won't go into here):</p>

      <ul>
        <li>Specify your own CSS for the documentation, or even your own XSLT stylesheet if you don't like the structure.</li>
        <li>Customize the web.xml file used to deploy your app.</li>
        <li>Add AOP interceptors to your services and/or XFire in/out handlers to the engine.</li>
        <li>Add your own API rules to be enforced at compile-time.</li>
        <li>Etc.</li>
      </ul>

      <p>Well, when we're done polishing things up, we enunciate our API again and deploy the war file as we did in steps 2 and 3.  (Note that this time, we
      specify the config file on the command line.)</p>

      <code class="console">
user@localhost&gt;enunciate -f enunciate.xml -Exfire.war ifyouwannabecool.war\
 src/com/ifyouwannabecool/api/package-info.java\
 src/com/ifyouwannabecool/api/ExclusiveGroupException.java\
 src/com/ifyouwannabecool/api/PermissionDeniedException.java\
 src/com/ifyouwannabecool/api/LinkageService.java\
 src/com/ifyouwannabecool/api/PersonaService.java\
 src/com/ifyouwannabecool/impl/PersonaServiceImpl.java\
 src/com/ifyouwannabecool/impl/LinkageServiceImpl.java\
 src/com/ifyouwannabecool/domain/persona/Name.java\
 src/com/ifyouwannabecool/domain/persona/Persona.java\
 src/com/ifyouwannabecool/domain/link/Link.java\
 src/com/ifyouwannabecool/domain/link/SocialGroup.java
      </code>

      <!--something like this is used from the svn sandbox:-->
      <!--target/enunciate-dist/bin/enunciate -f enunciate.xml -v -Exfire.war target/wannabecool.war src/samples/wannabecool/step4/com/ifyouwannabecool/api/ExclusiveGroupException.java src/samples/wannabecool/step4/com/ifyouwannabecool/api/package-info.java src/samples/wannabecool/step4/com/ifyouwannabecool/api/PermissionDeniedException.java src/samples/wannabecool/step4/com/ifyouwannabecool/api/LinkageService.java src/samples/wannabecool/step4/com/ifyouwannabecool/api/PersonaService.java src/samples/wannabecool/step4/com/ifyouwannabecool/impl/PersonaServiceImpl.java src/samples/wannabecool/step4/com/ifyouwannabecool/impl/LinkageServiceImpl.java src/samples/wannabecool/step4/com/ifyouwannabecool/domain/persona/Name.java src/samples/wannabecool/step4/com/ifyouwannabecool/domain/persona/Persona.java src/samples/wannabecool/step4/com/ifyouwannabecool/domain/link/Link.java src/samples/wannabecool/step4/com/ifyouwannabecool/domain/link/SocialGroup.java-->

      <h1>Step 5 (Optional): Behold the Glory</h1>

      <p>Ooooo....  Ahhhhh....</p>

      <p>(For the majority of you who aren't actually performing the steps, you can see the static elements by <a href="wannabecool/step4/index.html">clicking
        here</a>.)</p>

      <h1>Step 6: Learn More As Needed</h1>

      <ul>
        <li><a href="user_guide.html">Users Guide</a></li>
        <li><a href="architecture.html">Architecture Guide</a></li>
        <li><a href="api/index.html">Javadocs</a></li>
        <li><a href="support.html">Support</a></li>
        <li><a href="https://jaxb.dev.java.net/">JAXB 2.0</a></li>
        <li><a href="http://java.sun.com/webservices/jaxws/">JAX-WS</a></li>
      </ul>

    </div>

    <div class="sidenav">

      <h1>Home</h1>
      <ul>
        <li><a href="index.html">introduction</a></li>
        <li><a href="getting_started.html">getting started</a></li>
        <li><a href="#">download</a></li>
        <li><a href="support.html">support</a></li>
        <li><a href="license.txt">license</a></li>
      </ul>

      <h1>Documentation</h1>
      <ul>
        <li><a href="executables.html">invoking enunciate</a></li>
        <li><a href="user_guide.html">user guide</a></li>
        <li><a href="modules/index.html">modules</a></li>
        <li><a href="deps.html">dependencies</a></li>
        <li><a href="architecture.html">architecture</a></li>
        <li><a href="api/index.html">javadocs</a></li>
      </ul>

      <h1>Developers</h1>
      <ul>
        <li><a href="roadmap.html">roadmap</a></li>
        <li><a href="#">mailing lists</a></li>
        <li><a href="#">bugs and tasks</a></li>
        <li><a href="#">source repository</a></li>
      </ul>

      <h1>References</h1>
      <ul>
        <li><a href="http://apt-jelly.sourceforge.net/">apt-jelly</a></li>
        <li><a href="http://java.sun.com/webservices/jaxws/">JAX-WS</a></li>
        <li><a href="https://jaxb.dev.java.net/">JAXB 2.0</a></li>
        <li><a href="http://xfire.codehaus.org">XFire</a></li>
        <li><a href="http://sanitystack.blogspot.com/">Ryan's Blog</a></li>
        <li><a href="http://sourceforge.net"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=166477&amp;type=1" width="88" height="31" border="0" alt="SourceForge.net Logo" /></a></li>
      </ul>

    </div>

    <div class="clearer"><span></span></div>

  </div>

  <div class="footer">&copy; 2006 <a href="http://www.webcohesion.com/">Web Cohesion</a>. Valid <a href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a> &amp; <a
    href="http://validator.w3.org/check?uri=referer">XHTML</a>. Template design by <a href="http://templates.arcsin.se">Arcsin</a>
  </div>

</div>

</body>

</html>